import{_ as m,M as w,r as v,o as n,c as i,w as y,v as $,a as g,b as e,F as h,d as p,p as C,e as D,t as r}from"./index.43254b5d.js";const S={name:"Dashboard",data(){return{burgers:null,burger_id:null,status:[],msg:null}},components:{Message:w},methods:{async getPedidos(){const a=await(await fetch("http://localhost:3001/burgers")).json();this.burgers=a,this.getStatus()},async getStatus(){const a=await(await fetch("http://localhost:3001/status")).json();this.status=a},async deleteBurger(s){await(await fetch(`http://localhost:3001/burgers/${s}`,{method:"DELETE"})).json(),this.msg=`O pedido N\xBA${res.id} foi removido com sucesso!`,setTimeout(()=>{this.msg=""},3e3),this.getPedidos()},async updateBurger(s,a){s.preventDefault();const l={status:s.target.value},u=JSON.stringify(l),c=await(await fetch(`http://localhost:3001/burgers/${a}`,{method:"PATCH",body:u,headers:{"Content-Type":"application/json"}})).json();this.msg=`o pedido N\xBA${c.id} foi atualizado para ${c.status}!`,setTimeout(()=>{this.msg=""},3e3),this.getPedidos()}},mounted(){this.getPedidos()}},f=s=>(C("data-v-4cf74763"),s=s(),D(),s),T={id:"burguerTable"},q=f(()=>e("div",{id:"burguerTableHeading"},[e("div",{class:"orderId"},"#:"),e("div",null,"Cliente:"),e("div",null,"P\xE3o:"),e("div",null,"Carne:"),e("div",null,"Opcionais:"),e("div",null,"A\xE7\xF5es:")],-1)),B={id:"burguerTableRows"},P={class:"orderNumber"},k={class:"clientName"},N={class:"pao"},j={class:"carne"},x={class:"opcionais"},I=["onChange"],E=f(()=>e("option",{value:""},"Selecione",-1)),M=["value","selected"],O=["onClick"];function A(s,a,l,u,d,c){const _=v("Message");return n(),i("div",T,[y(g(_,{msg:d.msg},null,8,["msg"]),[[$,d.msg]]),e("div",null,[q,e("div",B,[(n(!0),i(h,null,p(d.burgers,t=>(n(),i("div",{class:"burguerTableRow",key:t.id},[e("div",P,r(t.id),1),e("div",k,r(t.nome),1),e("div",N,r(t.pao),1),e("div",j,r(t.carne),1),e("div",x,[e("ul",null,[(n(!0),i(h,null,p(t.opcionais,(o,b)=>(n(),i("li",{key:b},r(o),1))),128))])]),e("div",null,[e("select",{name:"status",class:"status",onChange:o=>c.updateBurger(o,t.id)},[E,(n(!0),i(h,null,p(d.status,o=>(n(),i("option",{key:o.id,value:o.tipo,selected:t.status==o.tipo},r(o.tipo),9,M))),128))],40,I),e("button",{class:"deleteBtn",onClick:o=>c.deleteBurger(t.id)},"Cancelar",8,O)])]))),128))])])])}var F=m(S,[["render",A],["__scopeId","data-v-4cf74763"]]);const H={name:"Pedidos",components:{Dashboard:F}},J={class:"mainContainer"},L=e("h1",null,"Gerenciar pedidos:",-1);function R(s,a,l,u,d,c){const _=v("Dashboard");return n(),i("div",J,[L,g(_)])}var z=m(H,[["render",R]]);export{z as default};
